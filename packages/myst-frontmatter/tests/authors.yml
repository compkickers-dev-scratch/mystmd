title: Authors
cases:
  - title: Simple Author Text in List
    raw:
      authors:
        - Just A. Name
    normalized:
      authors:
        - id: Just A. Name
          name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
  - title: Simple Authors String
    raw:
      authors: Just A. Name
    normalized:
      authors:
        - id: Just A. Name
          name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
  - title: Use Author rather than author`s`
    raw:
      author: Just A. Name
    normalized:
      authors:
        - id: Just A. Name
          name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
  - title: Using both author and author`s` shows a warning
    raw:
      author: nope
      authors: Just A. Name
    normalized:
      authors:
        - id: Just A. Name
          name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
    warnings: 1
  - title: Affiliations unpack semicolon-delimited lists
    raw:
      author:
        name: Just A. Name
        affiliation: University; Company
    normalized:
      authors:
        - name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
          affiliations:
            - University
            - Company
      affiliations:
        - id: University
          name: University
        - id: Company
          name: Company
  - title: First email is corresponding
    raw:
      author:
        name: Just A. Name
        email: example@example.com
    normalized:
      authors:
        - name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
          email: example@example.com
          corresponding: true
  - title: First email is corresponding (unless false)
    raw:
      author:
        name: Just A. Name
        email: example@example.com
        corresponding: false
    normalized:
      authors:
        - name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
          email: example@example.com
          corresponding: false
  - title: Respect corresponding flag
    raw:
      authors:
        - name: Just A. Name
          email: example@example.com
        - name: A. Nother Name
          email: example@example.com
          corresponding: true
    normalized:
      authors:
        - name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
          email: example@example.com
        - name: A. Nother Name
          nameParsed:
            display: A. Nother Name
            given: A. Nother
            family: Name
          email: example@example.com
          corresponding: true
  - title: Warn if author has no name
    raw:
      authors:
        - name: Just A. Name
          email: example@example.com
        - email: example@example.com
          corresponding: true
    normalized:
      authors:
        - name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
          email: example@example.com
        - email: example@example.com
          corresponding: true
    warnings: 1
  - title: Warn if author has no family name
    raw:
      authors:
        - name:
            given: Someone
    normalized:
      authors:
        - name: ', Someone'
          nameParsed:
            display: ', Someone'
            given: Someone
    warnings: 1
  - title: Warn if author has no given name
    raw:
      authors:
        - name: Someone
    normalized:
      authors:
        - name: 'Someone'
          nameParsed:
            display: 'Someone'
            family: Someone
    warnings: 1
  - title: Parsed name is maintained
    raw:
      authors:
        - name:
            display: Just A. Name
            given: Little
            particle: von
            family: Junior
            suffix: Jr.
    normalized:
      authors:
        - name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Little
            particle: von
            family: Junior
            suffix: Jr.
  - title: Name object with lots of commas warns
    raw:
      authors:
        - name:
            display: Commas, here, are, great,
            given: Commas,
            particle: here,
            family: are,
            suffix: warnings,
    normalized:
      authors:
        - name: Commas, here, are, great,
          nameParsed:
            display: Commas, here, are, great,
            given: Commas,
            particle: here,
            family: are,
            suffix: warnings,
    warnings: 4
  - title: Name string with extra comma warns
    raw:
      authors:
        - name: A, B, C, D
    normalized:
      authors:
        - name: A, B, C, D
          nameParsed:
            display: A, B, C, D
            given: D
            family: A, B
            suffix: C
    warnings: 1
  - title: Display name expands
    raw:
      authors:
        - name:
            display: Just A. Name
    normalized:
      authors:
        - name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
  - title: Display name expands
    raw:
      authors:
        - name:
            display: Just A. Name
    normalized:
      authors:
        - name: Just A. Name
          nameParsed:
            display: Just A. Name
            given: Just A.
            family: Name
